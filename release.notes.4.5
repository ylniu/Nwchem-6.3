NWChem Version 4.5 Release Notes
(Also available at 
http://www.emsl.pnl.gov:2080/docs/nwchem/release-notes/release.notes.4.5.html)

NOTE: These release notes are not a substitute for reading the User Manual!
They are meant to give a thumbnail sketch of the new capabilities and bug
fixes that are available in NWChem Version 4.5. When there is a conflict
between the release notes and the User Manual, the User Manual takes
precedence. 

The changes for version 4.5 are listed at the bottom of this file.

Several new major capabilities are available in NWChem, including several new
modules. The new modules are: 

  o TCE: Tensor Contraction Engine module, that can generate
unrestricted CISD, CISDT, CISDTQ, LCCD, CCD, LCCSD, CCSD, QCISD,
CCSDT, CCSDTQ, MBPT(2), MBPT(3), MBPT(4) wavefunctions
  o TDDFT: time-dependent DFT, Tamm-Dancoff approximation to TDDFT,
time-dependent HF, configuration-interaction singles for excited states
  o ET: Electron Transfer module that calculates the electron transfer
matrix element between ET reactant and product states   
  o PAW: Projector Augmented plane-Wave module

For each of these capabilities, the user is referred to the User
Manual for more information. 

Additional major additions to the capabilities include: 
  o DFT: added the following new functional MPW91, MPW91K, FT97, 
         XPKBZ99 (meta-GGA)
  o SIC (Self-Interaction Correction) in the PSPW module
  o Stress calculations in the PSPW module
  o Wannier orbitals generations in the PSPW module
  o Simulated annealing for Car-Parrinello
  o Analytic hessian calculation with ECP basis sets

Again, for each of these capabilities, the user is referred to the User Manual 
for more information. 

Listed below are the other major and many minor changes for each module
with significant changes. These descriptions are somewhat terse and more
information is generally available in the User Manual. 

Basis Sets: 

  o The basis set is printed if the "*" tag input is used
  o BUG FIX: re-introduced cc-pcvqz and its polarization functions.
  o BUG FIX: improper detection of basis libraries directory on HP Tru64
  o BUG FIX: wrong dimension for temporary array used when detecting
    atom types.  

Geometry: 
  
  o Added option to freeze number of orbitals in the molecule
  o BUG FIX: xyz_print is now printing angstroms instead of fractional
    coordinates for 3-d geometries.
  o BUG FIX: z-matrix input modified to  digest
    symbols bq"atomic symbol" and x"atomic symbol" needed for DFT BSSE
  o BUG FIX: wrong power of complex number in autosym
  o BUG FIX: geometry was sometimes distorted when autosym was failing
  o BUG FIX: when bqbq option is set the geometry was shifted
    a large amount.

DFT: 

  o New GGA density functionals: MPW91, MPW91K, FT97 
  o Introduced framework for meta-GGA functional (requiring computation
    of the kinetic energy density tau). Coded energy term for
    the XPKBZ99 functional.
  o Removed old XC grid integration scheme in used prior to 4.0
  o Introduced limited replicated-data capability in XC build; it bypasses
    the costly ga_acc. Activated by set dft:xcreplicated t
  o performance improvements in the grid and XC build part
  o BUG FIX: the spin-orbit initial guess is now working
  o BUG FIX: XC grid part now correctly handles bq"atomic symbol"
    and x"atomic symbol" input terms
  o BUG FIX: open shell HCTH (and B97-98) series of functionals did
    not respect alpha-beta spin symmetry
  o BUG FIX: HCTHP14 was using wrong indexing causing wrong results
  o BUG FIX: code for grid rotational invariance now produces the
    correct matrix

SCF: 

  o Routine to rotate movecs to a new geometry (keyword "rotate" in
    vectors input)
  o routine to reorder the mapping of MO coefficients to nuclei (keyword
    "reorder" in vectors input)

RIMP2

  o Fortran Direct I/O has been converted to EAF calls: this allows
    the code to overcome the 2GB filesize limit.

COSMO:
  
  o SCF and DFT interfaces made more consistent
  o Set default value of ifscr parameter to 2

Driver: 

  o NEB (Nudged Elastic Band) method added (still under development)
  o ONIOM calculations can be performed with the PSPW module
  o BUG FIX: fractional coordinates optimizer

Properties: 

  o Mulliken population analysis in full matrix output
  o BUG FIX: GIAO integral accuracy set to 10**-15 to make more consistent
    cutoff strategies.

MP2: 

  o 64-bit platforms: removed 2GB file limit (this will drastically
    reduce the number of passes)

CCSD(T):

  o BUG FIX: Triples energies were wrong for systems with higher than
    abelian symmetry. This is now handled correctly.
  o BUG FIX: Linear dependency was ignored in triples mo symmetry
    transformation. Now, only nbf-# lin. dep. functions are used.

Hessian and Frequencies: 

  o Analytic hessian calculation with ECP basis sets can now performed
  o BUG FIX: improved detection of conditions when analytic hessian
    cannot be performed (e.g. opens shell DFT, fitted-coulomb DFT)
  o BUG FIX: Linear dependencies are correctly handled

NBO:
  o static memory allocation increased 6x to allow runs on larger systems
  o BUG FIX: use of OPEN(STATUS="REPLACE") (on fortran compilers that 
    allow it)  to avoid a fatal error when a file exists because a
    job with the same name was carried out in the same directory before
  o BUG FIX: normalization factors for f orbitals transformation are correct

Vib:
  o Partial canonical partition thermodynamical analysis added

PSPW:
  o CIF output changed
  o new elements added to PS library: Au Cu Fe Ge Pb Sr Ti
  o SIC (Self-Interaction Correction)
  o band by band minimizer added
  o Wannier functions
  o Car-Parrinello: added simulated annealing strategy
  o Added Becke's ELF
  o Added calculation of stress forces


MD: 
  o AMBER99: Standard parameters only as default force field
  o PME: Shifted grid approach to reduce cost of communication
  o PMF: Optional global scaling PMF force constant
  o      Reporting of PMF energies
  o      Specification biasing PMF for application of bias correction
  o      Separate data files for each window
  o MD: Segment size used in determining pair lists
  o     Optional recording average properties
  o     Import of trajectories to re-evaluate forces and potential energies
  o     Use of lambda-scaling in regular MD run
  o     Special anisotropic pressure scaling options for membrane simulations
  o     Expanded timing analysis data
  o     Optional inclusion energies between fized atoms
  o TI: Separately reported mass-contributions to free energy differences

QM/MM:
  o Optional ESP fitting during QM/MM simulations
  o Charge of QM region specified in input
  o QM region with multiple basis set levels
  o Link atom approach using  

Integrals: 
  o Performance improvements in Texas integrals (especially for 2nd
    derivatives) 
  o Default value for integral internal screening threshold has been
    raised from 1E-15 to 1E-12 (set int:acc_std).
  o ECP: activated 2nd derivative code
  o BUG FIX: numerical problems in some CRENBS ecps

DPLOT:
  o Rewrite of the code to reduce memory requirements

ESP
  o Factor value changed from 1.45 to 1.00

General Utilities:
  o Introduction of wall time remaining mechanism for LSF and PBS,
    activated by typing make LSF=y and make PBS=y, respectively.
  o BUG FIX: determination of how many processes are simultaneously
    using the scratch directory

Tests, manuals and miscellaneous script changes: 
  o Updated User's Manual to reflect new and modified functionality in
    NWChem. 
  o QA tests have been updated to reflect the new functionality.


Installation availability: 

The current tested platforms and O/S versions are: 

  o IBM SP with Power 3 and Power 4 nodes, AIX 5.1
    and PSSP 3.4; IBM RS6000 workstation, AIX 5.1. Xlf 8.1.0.0 and
    8.1.0.1 are known to produce bad code.
  o SGI R12000 IRIX 6.5 
  o SUN workstations with Solaris 2.6 and 2.8. Fujitsu SPARC systems 
   (thanks to Herbert Fruchtl) with Parallelnavi compilers.
  o HP DEC alpha workstation , Tru64 V5.1,
    Compaq Fortran V5.3, V5.4.2, V5.5.1
  o Linux with Intel x86 cpus. 
    NWChem Release 4.5 has been tested on RedHat 6.x and 7.x,
    Mandrake  7.x.
    We have tested NWChem on Linux for the Power PC Macintosh with
    Yellow Dog 2.4.
    These all use the GCC compiler at different levels. 
    The Intel Fortran Compiler version 7 is supported.
    The Portland Group Compiler has been tested in a less robust manner.
    Automatic generation of SSE2 optimized code is available when the 
    Intel compiler is used (ifc vs g77 performances gain of 40% in
    some benchmarks)
    A somewhat Athlon optimized code can be generated under the GNU
    or Intel compilers by typing "make _CPU=k7".
    GCC3 specific options can be turned on by typing "make GCC31=y"
  o HP 9000/800 workstations with  HPUX B.11.00. f90 must be used for
    compilation.
  o Intel x86 with Windows 2000 has been tested with Compaq Visual Fortran
    6.0 and 6.1 with WMPI 1.3 or NT-Mpich.
  o Intel IA64 under Linux (with Intel compilers version 7 and later)
    and under HPUX.
  o Fujitsu VPP computers.

A general FAQ is available at 
http://www.emsl.pnl.gov:2080/docs/nwchem/support/NWChem_FAQ.html

A list of Known Bugs is available at
http://www.emsl.pnl.gov:2080/docs/nwchem/support/known_bugs.4.5.html







